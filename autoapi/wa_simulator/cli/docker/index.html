<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" />

    <link rel="shortcut icon" href="../../../../_static/wa-dark-favicon.png"/><meta name="generator" content="sphinx-3.4.2, furo 2020.12.30.beta24"/>
        <title>wa_simulator.cli.docker - Wisconsin Autonomous Simulator 2.2.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../../../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../../../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css" />
    <link rel="stylesheet" href="../../../../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script defer="defer" src="../../../../_static/jquery.js"></script>
    <script defer="defer" src="../../../../_static/underscore.js"></script>
    <script defer="defer" src="../../../../_static/doctools.js"></script>
    <script async="async" defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script defer="defer" type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script defer src="../../../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
     
        <a style="text-decoration: none; color: white;" 
           href="https://wa.wisc.edu">
           <img src="https://github.com/WisconsinAutonomous/wa-resources/blob/master/Images/wa-dark.png?raw=true" 
                style="vertical-align: middle; display: inline; padding-right: 7.5px; height: 20px;"/>
           Checkout our website!
        </a>
     
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Wisconsin Autonomous Simulator 2.2.0 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../../_static/wa-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../../_static/wa-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../background.html">Background</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../installation/index.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../installation/unix.html">Unix Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../installation/windows.html">Windows Installation Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../tutorials/centerline_path.html">Creating a Centerline Path Planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tutorials/custom-controller.html">Creating a Custom Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tutorials/writing-a-json.html">Writing a JSON Specification File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../chrono/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/controller/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/environment/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.environment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/sensor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.sensor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/system/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.system</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/vehicle/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.vehicle</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chrono/visualization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.visualization</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../base/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.base</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bridge/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.bridge</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../controller/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.controller</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.core</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.environment</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../path/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.path</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sensor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.sensor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../simulation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.simulation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../system/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.system</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../track/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.track</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vehicle/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.vehicle</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vehicle_inputs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.vehicle_inputs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../visualization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.visualization</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing.html">Contributing</a></li>
</ul>
<p><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/wa-simulator/">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/WisconsinAutonomous/wa_simulator">Github</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="module-wa_simulator.cli.docker">
<span id="wa-simulator-cli-docker"></span><h1><a class="reference internal" href="#module-wa_simulator.cli.docker" title="wa_simulator.cli.docker"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.cli.docker</span></code></a><a class="headerlink" href="#module-wa_simulator.cli.docker" title="Permalink to this headline">¶</a></h1>
<h2>Methods</h2><div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#wa_simulator.cli.docker.run_start" title="wa_simulator.cli.docker.run_start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_start</span></code></a></p></td>
<td><p>The start command will spin up a Docker container that runs a python script with the desired image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wa_simulator.cli.docker.init" title="wa_simulator.cli.docker.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init</span></code></a></p></td>
<td><p>Initializer method for the <code class="code docutils literal notranslate"><span class="pre">docker</span></code> entrypoint.</p></td>
</tr>
</tbody>
</table></div>
<dl class="py function">
<dt id="wa_simulator.cli.docker.run_start">
<code class="sig-name descname">run_start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/wa_simulator/cli/docker.html#run_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.cli.docker.run_start" title="Permalink to this definition">¶</a></dt>
<dd><p>The start command will spin up a Docker container that runs a python script with the desired image.</p>
<p>The use case for the start command is when we’d like to run a <code class="code docutils literal notranslate"><span class="pre">wa_simulator</span></code> script with a certain
operating system configuration or in a way that’s distributable across computers. Everyone’s setup is different,
i.e. OS, development environment, packages installed. Using Docker, you can simply run <code class="code docutils literal notranslate"><span class="pre">wasim</span> <span class="pre">docker</span> <span class="pre">start</span> <span class="pre">...</span></code>
and run <code class="code docutils literal notranslate"><span class="pre">wa_simulator</span></code> agnostic from your local system.</p>
<p>The start command will take two arguments that point to two files:
a YAML configuration file and the python script. The YAML file defines various settings we’ll
use when spinning up the container. The python script is the actual file we’ll run from within the
container. After the python script, you may add arguments that will get passed to the script
when it’s run in the container. See some examples below.</p>
<dl class="simple">
<dt>YAML Settings:</dt><dd><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">containers</span></code> (required): A list of containers we’d like to spin up. Each container is run sequentially (one after another; i.e. the previous container will complete before the next is run). Each container is idenified by a name, which is used as the container name.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">image</span></code> (required): The image the container will use. If the image has not been downloaded, it will be fetched at runtime.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">volumes</span></code> (optional): The <cite>volumes &lt;https://docs.docker.com/storage/volumes/&gt;_</cite> mapped from the host to the container. They can be specified either through a dictionary with <code class="code docutils literal notranslate"><span class="pre">host</span></code>, <code class="code docutils literal notranslate"><span class="pre">container</span></code>, and optionally <code class="code docutils literal notranslate"><span class="pre">is_relative_to_yaml</span></code> attributes. <code class="code docutils literal notranslate"><span class="pre">host</span></code> and <code class="code docutils literal notranslate"><span class="pre">container</span></code> are the paths from the host and container that make up the volume, respectively. <code class="code docutils literal notranslate"><span class="pre">is_relative_to_yaml</span></code> specified whether the <code class="code docutils literal notranslate"><span class="pre">host</span></code> path is relative to the yaml configuration file; if it is, the <code class="code docutils literal notranslate"><span class="pre">host</span></code> path will be resolved relative to the yaml file location (as Docker requires the host directory to be absolute). They can also be specified via a string that follows the traditional volume representation in the Docker CLI (i.e. <code class="code docutils literal notranslate"><span class="pre">"/usr/local:/usr/local").</span> <span class="pre">The</span> <span class="pre">passed</span> <span class="pre">python</span> <span class="pre">script</span> <span class="pre">is</span> <span class="pre">automatically</span> <span class="pre">configured</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">volume</span> <span class="pre">at</span> <span class="pre">:code:</span></code>/root/<a href="#id1"><span class="problematic" id="id2">`</span></a>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ports</span></code> (optional): The <cite>ports &lt;https://docs.docker.com/config/containers/container-networking/#published-ports&gt;_</cite> to bind the container to. These are specified as a dictionary, where the keys are the ports to bind inside the container. The keys then map to a list of either integers or strings that define ports to bind to on the host side.</p></li>
</ul>
</dd>
</dl>
<p>Examples YAML files:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># -------------</span>
<span class="c1"># Example1.yaml</span>
<span class="c1"># -------------</span>

<span class="nt">containers</span><span class="p">:</span>
    <span class="nt">wasim</span><span class="p">:</span>
        <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wiscauto/wa_simulator</span>
        <span class="nt">volumes</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">host</span><span class="p">:</span> <span class="s">"../data"</span>
              <span class="nt">container</span><span class="p">:</span> <span class="s">"/root/data"</span>
              <span class="nt">is_relative_to_yaml</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
            <span class="p p-Indicator">-</span> <span class="s">"/usr/local:/usr/local"</span>
        <span class="nt">ports</span><span class="p">:</span> <span class="c1"># Dictionary of {&lt;container&gt;: [&lt;host&gt;, ...]}</span>
            <span class="nt">5555</span><span class="p">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">5555</span>
</pre></div>
</div>
<p>Example cli commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run from within wa_simulator/demos/bridge</span>
wasim docker start demo_bridge.yaml demo_bridge_server.py

<span class="c1"># With more verbosity</span>
wasim -vv docker start demo_bridge.yaml demo_bridge_server.py

<span class="c1"># With some script arguments</span>
wasim -vv docker start demo_bridge.yaml demo_bridge_server.py --step_size 2e-3
</pre></div>
</div>
</dd></dl>
<dl class="py function">
<dt id="wa_simulator.cli.docker.init">
<code class="sig-name descname">init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subparser</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/wa_simulator/cli/docker.html#init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.cli.docker.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializer method for the <code class="code docutils literal notranslate"><span class="pre">docker</span></code> entrypoint.</p>
<p>The entrypoint serves as a mechanism for running containers with <code class="code docutils literal notranslate"><span class="pre">wa_simulator</span></code>. It may be
desireable to have a containerized system for running <code class="code docutils literal notranslate"><span class="pre">wa_simulator</span></code>; for instance, if a script
requiries a certain package, the Docker image could be shipped without needing to install the package
on a system locally. The scalability of using Docker over installing packages on a system is much greater.</p>
<p>To see specific commands that are available, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wasim docker -h
</pre></div>
</div>
<dl class="simple">
<dt>Current subcommands:</dt><dd><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">start</span></code>: Spins up a container and runs a python script in the created container.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          
          
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Wisconsin Autonomous
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../../../../_sources/autoapi/wa_simulator/cli/docker/index.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.cli.docker</span></code></a><ul>
<li><a class="reference internal" href="#wa_simulator.cli.docker.run_start">run_start</a></li>
<li><a class="reference internal" href="#wa_simulator.cli.docker.init">init</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>