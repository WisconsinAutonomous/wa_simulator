<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="wa_simulator.controller" href="../controller/index.html" /><link rel="prev" title="wa_simulator.base" href="../base/index.html" />

    <link rel="shortcut icon" href="../../../_static/wa-dark-favicon.png"/><meta name="generator" content="sphinx-3.4.2, furo 2020.12.30.beta24"/>
        <title>wa_simulator.bridge - Wisconsin Autonomous Simulator 2.2.1 documentation</title>
      <link rel="stylesheet" href="../../../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" href="../../../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script defer="defer" src="../../../_static/jquery.js"></script>
    <script defer="defer" src="../../../_static/underscore.js"></script>
    <script defer="defer" src="../../../_static/doctools.js"></script>
    <script async="async" defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script defer="defer" type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script defer src="../../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
     
        <a style="text-decoration: none; color: white;" 
           href="https://wa.wisc.edu">
           <img src="https://github.com/WisconsinAutonomous/wa-resources/blob/master/Images/wa-dark.png?raw=true" 
                style="vertical-align: middle; display: inline; padding-right: 7.5px; height: 20px;"/>
           Checkout our website!
        </a>
     
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Wisconsin Autonomous Simulator 2.2.1 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/wa-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/wa-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../background.html">Background</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../installation/index.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/unix.html">Unix Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/windows.html">Windows Installation Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/centerline_path.html">Creating a Centerline Path Planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/custom-controller.html">Creating a Custom Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/writing-a-json.html">Writing a JSON Specification File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../chrono/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../chrono/controller/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/environment/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.environment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/sensor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.sensor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/system/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.system</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/vehicle/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.vehicle</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../chrono/visualization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.chrono.visualization</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../base/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.base</span></code></a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.bridge</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../controller/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.controller</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.core</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.environment</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../path/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.path</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../sensor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.sensor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.simulation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.system</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../track/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.track</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../vehicle/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.vehicle</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../vehicle_inputs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.vehicle_inputs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.visualization</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing</a></li>
</ul>
<p><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/wa-simulator/">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/WisconsinAutonomous/wa_simulator">Github</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="module-wa_simulator.bridge">
<span id="wa-simulator-bridge"></span><h1><a class="reference internal" href="#module-wa_simulator.bridge" title="wa_simulator.bridge"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.bridge</span></code></a><a class="headerlink" href="#module-wa_simulator.bridge" title="Permalink to this headline">¶</a></h1>
<h2>Classes</h2><div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#wa_simulator.bridge.WABridge" title="wa_simulator.bridge.WABridge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WABridge</span></code></a></p></td>
<td><p>Base class for a bridge interface between the simulator and an external entity</p></td>
</tr>
</tbody>
</table></div>
<dl class="py class">
<dt id="wa_simulator.bridge.WABridge">
<em class="property">class </em><code class="sig-name descname">WABridge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">system</span><span class="p">:</span> <span class="n">WASystem</span></em>, <em class="sig-param"><span class="n">hostname</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'localhost'</span></em>, <em class="sig-param"><span class="n">port</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5555</span></em>, <em class="sig-param"><span class="n">server</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">use_ack</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">is_synchronous</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ignore_unknown_messages</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../base/index.html#wa_simulator.base.WABase" title="wa_simulator.base.WABase"><code class="xref py py-class docutils literal notranslate"><span class="pre">wa_simulator.base.WABase</span></code></a></p>
<p>Base class for a bridge interface between the simulator and an external entity</p>
<p>There are many applications where it’s desired that <cite>wa_simulator</cite> communicates with external entities.
For example, <cite>Robot Operating System or ROS &lt;https://www.ros.org/&gt;_</cite> is a popular tool for writing
robotic control code. Simulation is a very valuable tool for testing, so being able to communicate
with these external control stacks is an important feature.</p>
<p>For each external entity that wants to be connected to, a new bridge object must be created. The <cite>multiprocessing.connection</cite> library
will be used and it’s <cite>Listener &lt;https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener&gt;_</cite> class.
The messages will be sent as dictionaries of data and messages to be sent at each timestep will be accumulated to be sent as one large message.</p>
<p>Message types are dynamic in types, form and structure; however, there are a few rules that must be abided by. First, sender names must be unique. The
name will be used as the message identifier in the dictionary. Second, the structure of the message types will be infered, if possible. Otherwise, they must be
explicitely provided in the calling method when adding the sender.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>system</strong> (<em>WASystem</em>) – The system used to manage the simulation</p></li>
<li><p><strong>hostname</strong> (<em>str</em>) – The hostname of the client entity</p></li>
<li><p><strong>port</strong> (<em>int</em>) – The port to attach to</p></li>
<li><p><strong>use_ack</strong> (<em>bool</em>) – Specify whether to use an acknowledgement when sending a message to ensure the client got the message. Defaults to True.</p></li>
<li><p><strong>is_synchronous</strong> (<em>bool</em>) – Specify whether the sender and receivers are in synchronous mode. If yes, on each step, a message will be sent and received. If not, will not wait for a message to be received.</p></li>
<li><p><strong>ignore_unknown_messages</strong> (<em>bool</em>) – If a message is received with an unknown name (not registered with <a class="reference internal" href="#wa_simulator.bridge.WABridge.add_receiver" title="wa_simulator.bridge.WABridge.add_receiver"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_receiver()</span></code></a>), ignore it. Defaults to True. If False, will raise an error.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that connects with the external entity.</p>
<p>Typically called by <code class="xref py py-class docutils literal notranslate"><span class="pre">WASimulationManager</span></code>, but okay to call outside. Will only connect to one client at
the hostname and port provided to the constructor.</p>
<p>If this bridge is a server, a <code class="docutils literal notranslate"><span class="pre">multiprocessing.Connection.Listener</span></code> object is used. Otherwise, a <code class="docutils literal notranslate"><span class="pre">multiprocessing.Connection.Client</span></code> object is used.
See the <cite>Listener &lt;https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Listener&gt;_</cite>
or <cite>Client &lt;https://docs.python.org/3/library/multiprocessing.html#multiprocessing.connection.Client&gt;_</cite> docs to see possible errors that may be raised.</p>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.add_sender">
<code class="sig-name descname">add_sender</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">component</span><span class="p">:</span> <span class="n">WABase</span></em>, <em class="sig-param"><span class="n">message_generator</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">[</span>WABase<span class="p">]</span><span class="p">, </span>dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.add_sender"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.add_sender" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a sender component that has outgoing messages</p>
<p>To actually send data from the simulation to the external client, this method (or it’s derivatives) must be called
to explicitly tell the bridge what information to send.</p>
<p>The format of the outgoing message is inferred, unless <code class="docutils literal notranslate"><span class="pre">message_generator</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>. If the message structure cannot
be inferred and <code class="docutils literal notranslate"><span class="pre">message_generator</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The unique message name/identifier (think ROS topic)</p></li>
<li><p><strong>component</strong> (<em>WABase</em>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">WABase</span></code> component the message data will be generated from</p></li>
<li><p><strong>message_generator</strong> (<em>Callable[[WABase], dict]</em>) – A custom method that generates a dict message to be sent from the specified component</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">name</span></code> is not unique (there is already a message identifier with that name)</p></li>
<li><p><strong>RuntimeError</strong> – If the message structure cannot be inferred and a message generator method is not provided</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.add_receiver">
<code class="sig-name descname">add_receiver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">''</span></em>, <em class="sig-param"><span class="n">element</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">message_parser</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">[</span>Any<span class="p">]</span><span class="p">, </span>dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.add_receiver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.add_receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a receiver element that has incoming messages</p>
<p>A receiver either has a name and element, a name, element and message_perser, or just a message_parser. If a name
and element are provided, the message_parser is attempted to be inferred. If it can’t be inferred, a error will be raised.
If it can’t be inferred, you should provied a message_parser. The name will be used to determine what message_parser to call when
a message is received. If neither a name or element are provided, a message_parser must be provided. In this case, a
all received messages that do not have a callback will call this message_parser. Think of this as a ‘global message listener’.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> need not be unique from any senders in the class, only from other receivers.</p>
<p>“element” is used instead of “component” because the element doesn’t necessarily need to be a WABase derived class.</p>
<p>On each synchronization step, the receiver message parse method will be called. To have the listener be polled for messages,
a single receiver must be added. Further, for the receiver parser to be called, the name attached to the message and the receiver
added here must match. If there is no match, either the message will be ignored (unless <code class="docutils literal notranslate"><span class="pre">ignore_unknown_messages</span></code> is set to fault in
the constructor) or if there is a global message listener, it’s callback will be called.</p>
<p>The format of the incoming message is inferred, unless <code class="docutils literal notranslate"><span class="pre">message_parser</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>. If the message structure cannot
be inferred and <code class="docutils literal notranslate"><span class="pre">message_parser</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The unique message name/identifier (think ROS topic)</p></li>
<li><p><strong>element</strong> (<em>Any</em>) – The element the message data will be used to populate or change. Should be an object so it’s passed by reference.</p></li>
<li><p><strong>message_parser</strong> (<em>Callable[[Any], Any]</em>) – A custom method that parses the received messag</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">name</span></code> is not unique (there is already a message identifier with that name)</p></li>
<li><p><strong>RuntimeError</strong> – If the message structure cannot be inferred and a message parser method is not provided</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.synchronize">
<code class="sig-name descname">synchronize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">time</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.synchronize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.synchronize" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronizes with the external entity</p>
<p>Will accumulate the messages to be sent and then send them. And then will receive any messages
from receivers.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If an acknowledgement is not received from the client after data is sent or it is corrupt.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.advance">
<code class="sig-name descname">advance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">step</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.advance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.advance" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the state of the bridge</p>
<p>Will receive any messages from the client, if there are registered receivers.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – Received an unknown message (only if ignore_unknown_messages is False)</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.is_ok">
<code class="sig-name descname">is_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span> → bool<a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.is_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.is_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether this component is still alive.</p>
<p>Depending the type of component, a specific element may “fail”. For example, when
a visualization is used that presents a GUI/window, if the user closes that display,
this would be considered a component death. Therefore, <a class="reference internal" href="#wa_simulator.bridge.WABridge.is_ok" title="wa_simulator.bridge.WABridge.is_ok"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_ok()</span></code></a> should then return
False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>bool</em> – True if still alive, false otherwise</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="wa_simulator.bridge.WABridge.set_timeout">
<code class="sig-name descname">set_timeout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">timeout</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/wa_simulator/bridge.html#WABridge.set_timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wa_simulator.bridge.WABridge.set_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the timeout for the acknowledgement</p>
<p>If acknowledgements are utilized, the timeout value is used to determine how long to wait before throwing an error that an ack was never received. This
method provides the ability to set this value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>bool</em>) – The new timeout value</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../controller/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.controller</span></code></div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../base/index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.base</span></code></div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Wisconsin Autonomous
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../../../_sources/autoapi/wa_simulator/bridge/index.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wa_simulator.bridge</span></code></a><ul>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge">WABridge</a><ul>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.connect">connect</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.add_sender">add_sender</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.add_receiver">add_receiver</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.synchronize">synchronize</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.advance">advance</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.is_ok">is_ok</a></li>
<li><a class="reference internal" href="#wa_simulator.bridge.WABridge.set_timeout">set_timeout</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>